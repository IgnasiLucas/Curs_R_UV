---
title: "Curso de R 2022"
author: "Juan Antonio Balbuena & J. Ignacio Lucas Lledó"
date: "24/2/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Sesión 1

```{r eval=FALSE}
# Tipos de datos: 

caracter <- c("a", "b", "c")
entero   <- 1:72
logico   <- c(FALSE, TRUE, FALSE, TRUE)
reales   <- c(3.1416, 0.54, 7.1, 1.0e-12)

# clases de objetos

vector   <- c(7, 7, 7, 7)
v2       <- 1:17
matriz   <- matrix(1:25, nrow = 5)

# Operadores lógicos

vector == c(7, 7, 7, 6)
vector == c(7, 7, 7, 6) & vector > 7

# Indexar vectores i matrices

matriz[3, 4]
v2[v2 < 12 & v2 > 5]

# Datos que faltan

matriz[2:3, 4:5] <- NA

# Ejercicio 1. Genera una matriz de 10 x 10 y
# selecciona la submatriz de las filas pares y
# las columnas pares.

m1 <- matrix(1:100, nrow = 10, ncol = 10, byrow = FALSE)
m2 <- m1[c(2,4,6,8,10), c(2,4,6,8,10)]
m3 <- m1[(1:10) %% 2 == 0, (1:10) %% 2 == 0]
m4 <- m1[seq(2, 10, by = 2), seq(2, 10, by = 2)]

identical(m2, m3)
identical(m3, m4)

# Ejercicio 2. Crea una matriz de 5 x 5 con 25
# de las 26 letras del vector LETTERS. (Sugerencia:
# usa un índice negativo para eliminar un elemento
# del vector).

m1 <- matrix(LETTERS, nrow = 5, ncol = 5) # Funciona, pero genera advertencia y deja la "Z" fuera.
m2 <- matrix(LETTERS[2:26], nrow = 5)     # Funciona, dejando fuera la "A".
m3 <- matrix(LETTERS[-17],  nrow = 5)     # Funciona, dejando fuera la "Q".
```

## Sesión 2

```{r eval=FALSE}
sparrow <- read.table("http://github.com/ibartomeus/Data/raw/master/example/SparrowsElphick.txt",
                      header =TRUE)
#read.table(file.choose(), header=TRUE)
head(sparrow)
class(sparrow)
class(sparrow[1,1])
names(sparrow)
summary(sparrow)
boxplot(sparrow$tarsus)
sparrow$tarsus[1:5]
sparrow$Month
sparrow$Month <- factor(sparrow$Month)
head(sparrow$Month)
summary(sparrow$Month)
month.name
month.name[5:10]
month_sparrow <-month.name[5:10][sparrow$Month]

sparrow$Month <- factor(month_sparrow, levels = month.name[5:10])
table(sparrow$Month)
?factor
summary(sparrow$Species)
sparrow$SpeciesCode <- factor(sparrow$SpeciesCode,
                              labels = c("Sp1", "Sp2", "Sp3"))
summary(sparrow$SpeciesCode) # equivale a table(sparrow$SpeciesCode)
table(sparrow$SpeciesCode, sparrow$Month)
```